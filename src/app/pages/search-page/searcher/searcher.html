@let hasGenres = searchStateService.hasGenres();
@let hasYear = searchStateService.hasYear();
@let hasOptions = searchStateService.hasOptions();

<header class="searchFilms__searcher" #searcherExpander [style.height]="searchExpanderHeight() + 'px'">
    <button 
        class="searcher__expander" 
        (click)="toggleSearchExpander()"
    >   
        
        <div class="searcher__info">
            @if(hasOptions){
                <span class="searcher__indicator"></span>

                @if(hasGenres){
                    <span class="searcher__resume">Género</span>
                }
                
                @if(hasYear){
                    <span class="searcher__resume">Año</span>
                }
                
            }@else {
                <span class="searcher__resume">Viendo listado completo</span>
            }
        </div>
        
        <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#ffffff" [class.isOpen]="isOpen()">
            <path d="M256-213.85 213.85-256l224-224-224-224L256-746.15l224 224 224-224L746.15-704l-224 224 224 224L704-213.85l-224-224-224 224Z"/>
        </svg>

    </button>

    <section class="searcher__options">
        <app-search-by-title/>
        <app-search-by-filters/>
    </section>

</header>
