@let genres = genreList();
@let searchState = searchStateService;

<form class="searchByFilters">
    <fieldset class="searchByFilters__genresFilter">
        <legend class="genresFilter__title">Por género: </legend>
        @for (genre of genres; track $index) {
            <label class="genresFilter__genreContainer">
                <input 
                    type="checkbox"
                    [value]="genre.id"
                    class="genresFilter__genreCheckbox"
                    [id]="genre.id"
                    #genreCheckbox
                    (change)="searchState.setSelectedGenres(genre.id)"
                />
                <span class="genresFilter__genreName">{{genre.name}}</span>
            </label>
        }
    </fieldset>
    <fieldset class="searchByFilters__yearFilter">
        <legend>Por año: </legend>
            <input 
                type="number" 
                class="yearFilter__yearCheckbox"
                #yearInput
                [value]="searchState.selectedYear()"
                (input)="searchState.setSelectedYear($event)"
            >
        
    </fieldset>
    
    
</form>
<app-button
        label="Buscar"
        (handleClick)="searchState.searchByfilters()"
/>
